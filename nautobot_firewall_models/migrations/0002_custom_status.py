# Generated by Django 3.1.13 on 2022-04-21 00:07

from django.db import migrations
import nautobot.extras.models.statuses
from django.contrib.contenttypes.models import ContentType


def create_status(apps, schedma_editor):
    """Initial subset of statuses."""

    statuses = ["active", "staged", "decommissioned"]
    for i in statuses:
        status = nautobot.extras.models.statuses.Status.objects.get(slug=i)
        for model in apps.app_configs["nautobot_firewall_models"].get_models():
            ct = ContentType.objects.get_for_model(model)
            status.content_types.add(ct)


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ("nautobot_firewall_models", "0001_initial"),
    ]

    operations = [
        migrations.RunPython(code=create_status),
    ]
